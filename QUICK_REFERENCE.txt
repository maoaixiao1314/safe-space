â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ‰ æœåŠ¡æŒç»­è¿è¡Œ - é…ç½®å®Œæˆï¼
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… å·²é…ç½®çš„ä¿éšœæœºåˆ¶ï¼š

1ï¸âƒ£  Docker å®¹å™¨è‡ªåŠ¨é‡å¯
   â€¢ ç­–ç•¥: unless-stopped
   â€¢ æ•°é‡: 9ä¸ªå®¹å™¨
   â€¢ è§¦å‘: å´©æºƒã€Dockeré‡å¯ã€æœåŠ¡å™¨é‡å¯

2ï¸âƒ£  PM2 è¿›ç¨‹ç®¡ç†
   â€¢ è¿›ç¨‹: safe-web (Next.js)
   â€¢ ç«¯å£: 3002
   â€¢ è‡ªåŠ¨é‡å¯: âœ… (å´©æºƒã€å†…å­˜è¶…é™)
   â€¢ å¼€æœºè‡ªå¯: âœ… (systemd æœåŠ¡)

3ï¸âƒ£  å®šæ—¶ç›‘æ§ä»»åŠ¡
   â€¢ é¢‘ç‡: æ¯5åˆ†é’Ÿ
   â€¢ åŠŸèƒ½: è‡ªåŠ¨æ£€æŸ¥å¹¶é‡å¯å¤±è´¥æœåŠ¡
   â€¢ Redis ä¿æŠ¤: è‡ªåŠ¨ç»´æŒ master æ¨¡å¼

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“Š å½“å‰çŠ¶æ€ï¼š

PM2 è¿›ç¨‹:
  âœ… safe-web (online) - ç«¯å£ 3002

Docker å®¹å™¨:
  âœ… safe-client-gateway - ç«¯å£ 3001
  âœ… safe-transaction-service - ç«¯å£ 8000
  âœ… safe-config-service - ç«¯å£ 8001
  âœ… safe-postgres (healthy)
  âœ… safe-postgres-gateway (healthy)
  âœ… safe-redis (healthy, master æ¨¡å¼)
  âœ… safe-rabbitmq (healthy)
  âœ… safe-transaction-worker
  âœ… safe-transaction-scheduler

API æµ‹è¯•:
  âœ… http://13.250.19.178:3002/api/gateway/v1/chains
  âœ… è¿”å› Hetu é“¾é…ç½® (Chain ID: 560000)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“ å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥ï¼š

æŸ¥çœ‹æœåŠ¡çŠ¶æ€:
  pm2 list                    # PM2 è¿›ç¨‹åˆ—è¡¨
  docker ps                   # Docker å®¹å™¨åˆ—è¡¨
  pm2 monit                   # PM2 ç›‘æ§é¢æ¿

æŸ¥çœ‹æ—¥å¿—:
  pm2 logs safe-web           # Next.js æ—¥å¿—
  docker logs safe-client-gateway  # Gateway æ—¥å¿—
  tail -f /home/ubuntu/safe-space/logs/monitor.log  # ç›‘æ§æ—¥å¿—

é‡å¯æœåŠ¡:
  pm2 restart safe-web        # é‡å¯ Next.js
  docker restart safe-client-gateway  # é‡å¯ Gateway

æ‰‹åŠ¨ç›‘æ§æ£€æŸ¥:
  /home/ubuntu/safe-space/monitor-services.sh

æµ‹è¯• API:
  curl http://localhost:3002/api/gateway/v1/chains | jq

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸš¨ ç´§æ€¥æ¢å¤ï¼ˆå¦‚æœæ‰€æœ‰æœåŠ¡éƒ½æŒ‚äº†ï¼‰:

# 1. å¯åŠ¨ Docker æœåŠ¡
cd /home/ubuntu/safe-space/safe-deploy-guide
docker-compose -f config/docker-compose-hetu-safe.yml up -d

# 2. ç¡®ä¿ Redis æ˜¯ Master
docker exec safe-redis redis-cli SLAVEOF NO ONE
docker restart safe-client-gateway

# 3. å¯åŠ¨ Next.js
pm2 start safe-web

# 4. éªŒè¯
pm2 list && docker ps

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“š è¯¦ç»†æ–‡æ¡£ï¼š

  /home/ubuntu/safe-space/SERVICES_RUNNING_SUMMARY.md
    â†’ å®Œæ•´çš„é…ç½®æ€»ç»“å’Œä½¿ç”¨æŒ‡å—

  /home/ubuntu/safe-space/SERVICE_PERSISTENCE_GUIDE.md
    â†’ è¯¦ç»†çš„æŒä¹…åŒ–é…ç½®å’Œæ•…éšœæ’æŸ¥

  /home/ubuntu/safe-space/monitor-services.sh
    â†’ è‡ªåŠ¨ç›‘æ§è„šæœ¬

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ’¡ é‡è¦æç¤ºï¼š

  â€¢ æ‰€æœ‰æœåŠ¡ç°åœ¨å°†æŒç»­è¿è¡Œï¼Œä¸ä¼šè‡ªåŠ¨åœæ­¢
  â€¢ æœåŠ¡å™¨é‡å¯åæ‰€æœ‰æœåŠ¡è‡ªåŠ¨å¯åŠ¨
  â€¢ è¿›ç¨‹å´©æºƒä¼šè‡ªåŠ¨é‡å¯
  â€¢ æ¯5åˆ†é’Ÿè‡ªåŠ¨æ£€æŸ¥æœåŠ¡å¥åº·çŠ¶æ€
  â€¢ æ—¥å¿—ä¿å­˜åœ¨ /home/ubuntu/safe-space/logs/

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ¯ é…ç½®å®Œæˆæ—¶é—´: 2025-10-17
âœ… éªŒè¯çŠ¶æ€: å…¨éƒ¨é€šè¿‡
ğŸš€ æ‚¨å¯ä»¥æ”¾å¿ƒäº†ï¼ŒæœåŠ¡å°†ç¨³å®šè¿è¡Œï¼

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
